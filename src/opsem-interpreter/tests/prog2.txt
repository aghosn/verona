class Int {

}

class Obj {
  a: store Int
}

fn withStack() {
  x = stack Obj
  y = stack Int
  z = store x.a y
  release z
  return x
}

fn withNew() {
  x = new Obj
  y = new Int
  z = store x.a y
  release z
  return x
}

fn main(a, b) {
  x = call withNew()
  release x
  x = call withStack()
  release x
  return
}
